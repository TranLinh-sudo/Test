-- /////////////////////////////////////////////////////////////
-- /// BANANA CAT HUB - NATIVE MOBILE VERSION ///
-- /////////////////////////////////////////////////////////////
-- Script n√†y vi·∫øt ho√†n to√†n th·ªß c√¥ng, kh√¥ng d√πng th∆∞ vi·ªán n√™n
-- ch·∫Øc ch·∫Øn s·∫Ω hi·ªán tr√™n m·ªçi m√°y, k·ªÉ c·∫£ m√°y y·∫øu.

-- 1. CHU·∫®N B·ªä
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")

-- X√≥a GUI c≈©
if PlayerGui:FindFirstChild("BananaCatNative") then
    PlayerGui.BananaCatNative:Destroy()
end

-- 2. T·∫†O GUI C∆† B·∫¢N
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BananaCatNative"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- C·∫§U H√åNH M√ÄU S·∫ÆC
local Theme = {
    Background = Color3.fromRGB(30, 30, 30),
    Yellow = Color3.fromRGB(255, 235, 59),
    Text = Color3.fromRGB(255, 255, 255),
    Button = Color3.fromRGB(50, 50, 50),
    Green = Color3.fromRGB(85, 255, 127),
    Red = Color3.fromRGB(255, 85, 85),
    Image = "http://www.roblox.com/asset/?id=13693437997"
}

-- /////////////////////////////////////////////////////////////
-- /// T·∫†O N√öT M·ªû (TOGGLE BUTTON) ///
-- /////////////////////////////////////////////////////////////
local OpenBtn = Instance.new("ImageButton")
OpenBtn.Name = "OpenButton"
OpenBtn.Parent = ScreenGui
OpenBtn.BackgroundColor3 = Theme.Background
OpenBtn.Position = UDim2.new(0.1, 0, 0.15, 0)
OpenBtn.Size = UDim2.new(0, 50, 0, 50)
OpenBtn.Image = Theme.Image
OpenBtn.BackgroundTransparency = 0.2

local OpenCorner = Instance.new("UICorner"); OpenCorner.CornerRadius = UDim.new(1, 0); OpenCorner.Parent = OpenBtn
local OpenStroke = Instance.new("UIStroke"); OpenStroke.Color = Theme.Yellow; OpenStroke.Thickness = 2; OpenStroke.Parent = OpenBtn

-- /////////////////////////////////////////////////////////////
-- /// T·∫†O KHUNG MENU CH√çNH ///
-- /////////////////////////////////////////////////////////////
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Theme.Background
MainFrame.BackgroundTransparency = 0.5
MainFrame.Size = UDim2.new(0, 550, 0, 280)
MainFrame.Position = UDim2.new(0.5, -275, 0.5, -140)
MainFrame.ClipsDescendants = true
MainFrame.Visible = true

local MainCorner = Instance.new("UICorner"); MainCorner.CornerRadius = UDim.new(0, 10); MainCorner.Parent = MainFrame
local MainStroke = Instance.new("UIStroke"); MainStroke.Color = Theme.Yellow; MainStroke.Thickness = 3; MainStroke.Parent = MainFrame

-- HEADER
local Logo = Instance.new("ImageLabel"); Logo.Parent = MainFrame; Logo.BackgroundTransparency = 1; Logo.Position = UDim2.new(0, 5, 0, 5); Logo.Size = UDim2.new(0, 20, 0, 20); Logo.Image = Theme.Image
local Title = Instance.new("TextLabel"); Title.Parent = MainFrame; Title.BackgroundTransparency = 1; Title.Position = UDim2.new(0, 30, 0, 5); Title.Size = UDim2.new(0, 200, 0, 20); Title.Font = Enum.Font.FredokaOne; Title.Text = "BANANA CAT HUB - NATIVE"; Title.TextColor3 = Theme.Yellow; Title.TextSize = 14; Title.TextXAlignment = Enum.TextXAlignment.Left

-- N√öT X V√Ä -
local CloseBtn = Instance.new("TextButton"); CloseBtn.Parent = MainFrame; CloseBtn.BackgroundColor3 = Theme.Red; CloseBtn.Position = UDim2.new(1, -25, 0, 5); CloseBtn.Size = UDim2.new(0, 20, 0, 20); CloseBtn.Text = "X"; CloseBtn.TextColor3 = Color3.new(1,1,1); CloseBtn.Font = Enum.Font.FredokaOne; local CC = Instance.new("UICorner"); CC.CornerRadius = UDim.new(0,4); CC.Parent = CloseBtn
local MiniBtn = Instance.new("TextButton"); MiniBtn.Parent = MainFrame; MiniBtn.BackgroundColor3 = Color3.fromRGB(255, 170, 0); MiniBtn.Position = UDim2.new(1, -50, 0, 5); MiniBtn.Size = UDim2.new(0, 20, 0, 20); MiniBtn.Text = "-"; MiniBtn.TextColor3 = Color3.new(1,1,1); MiniBtn.Font = Enum.Font.FredokaOne; local MC = Instance.new("UICorner"); MC.CornerRadius = UDim.new(0,4); MC.Parent = MiniBtn

-- LOGIC ƒê√ìNG M·ªû
CloseBtn.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)
MiniBtn.MouseButton1Click:Connect(function() MainFrame.Visible = false end)
OpenBtn.MouseButton1Click:Connect(function() MainFrame.Visible = not MainFrame.Visible end)

-- /////////////////////////////////////////////////////////////
-- /// H·ªÜ TH·ªêNG TAB (TH·ª¶ C√îNG) ///
-- /////////////////////////////////////////////////////////////
local Sidebar = Instance.new("ScrollingFrame"); Sidebar.Parent = MainFrame; Sidebar.Active = true; Sidebar.BackgroundColor3 = Theme.Background; Sidebar.BackgroundTransparency = 1; Sidebar.BorderSizePixel = 0; Sidebar.Position = UDim2.new(0, 5, 0, 35); Sidebar.Size = UDim2.new(0, 100, 0, 240); Sidebar.ScrollBarThickness = 2; Sidebar.ScrollBarImageColor3 = Theme.Yellow
local SidebarList = Instance.new("UIListLayout"); SidebarList.Parent = Sidebar; SidebarList.SortOrder = Enum.SortOrder.LayoutOrder; SidebarList.Padding = UDim.new(0, 5)

local PageContainer = Instance.new("Frame"); PageContainer.Parent = MainFrame; PageContainer.BackgroundTransparency = 1; PageContainer.Position = UDim2.new(0, 115, 0, 35); PageContainer.Size = UDim2.new(0, 425, 0, 240)

-- Thanh k·∫ª d·ªçc
local Line = Instance.new("Frame"); Line.Parent = MainFrame; Line.BackgroundColor3 = Theme.Yellow; Line.BorderSizePixel = 0; Line.Position = UDim2.new(0, 110, 0, 30); Line.Size = UDim2.new(0, 2, 0, 245)
local TopLine = Instance.new("Frame"); TopLine.Parent = MainFrame; TopLine.BackgroundColor3 = Theme.Yellow; TopLine.BorderSizePixel = 0; TopLine.Position = UDim2.new(0, 0, 0, 30); TopLine.Size = UDim2.new(1, 0, 0, 2)

local Tabs = {}
local CurrentPage = nil

local function CreateTab(Name)
    -- N√∫t Tab b√™n tr√°i
    local TabBtn = Instance.new("TextButton")
    TabBtn.Parent = Sidebar
    TabBtn.BackgroundColor3 = Theme.Button
    TabBtn.Size = UDim2.new(1, 0, 0, 25)
    TabBtn.Font = Enum.Font.GothamBold
    TabBtn.Text = Name
    TabBtn.TextColor3 = Theme.Text
    TabBtn.TextSize = 11
    local TC = Instance.new("UICorner"); TC.CornerRadius = UDim.new(0, 4); TC.Parent = TabBtn
    
    -- Trang n·ªôi dung b√™n ph·∫£i
    local Page = Instance.new("ScrollingFrame")
    Page.Parent = PageContainer
    Page.BackgroundTransparency = 1
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.Visible = false
    Page.ScrollBarThickness = 2
    Page.ScrollBarImageColor3 = Theme.Yellow
    local PL = Instance.new("UIListLayout"); PL.Parent = Page; PL.SortOrder = Enum.SortOrder.LayoutOrder; PL.Padding = UDim.new(0, 5)
    
    TabBtn.MouseButton1Click:Connect(function()
        if CurrentPage then CurrentPage.Visible = false end
        for _, btn in pairs(Sidebar:GetChildren()) do if btn:IsA("TextButton") then btn.BackgroundColor3 = Theme.Button; btn.TextColor3 = Theme.Text end end
        
        Page.Visible = true
        CurrentPage = Page
        TabBtn.BackgroundColor3 = Theme.Yellow
        TabBtn.TextColor3 = Color3.new(0,0,0)
    end)
    
    return Page, TabBtn -- Tr·∫£ v·ªÅ trang v√† n√∫t ƒë·ªÉ d√πng sau
end

-- T·∫†O 14 TAB (Chu·∫©n b·ªã s·∫µn khung)
local Tab1, Btn1 = CreateTab("Tr·∫°ng th√°i")
local Tab2 = CreateTab("M√°y ch·ªß")
local Tab3 = CreateTab("Chung")
local Tab4 = CreateTab("Bi·ªÉn")
local Tab5 = CreateTab("V·∫≠t ph·∫©m")
local Tab6 = CreateTab("Tr√°i & Raid")
local Tab7 = CreateTab("Di chuy·ªÉn")
local Tab8 = CreateTab("C·ª≠a h√†ng")
local Tab9 = CreateTab("T·ªôc v4")
local Tab10 = CreateTab("Leviathan")
local Tab11 = CreateTab("N√∫i l·ª≠a")
local Tab12 = CreateTab("ƒê·∫£o c√°o")
local Tab13 = CreateTab("ƒê·ªãnh v·ªã")
local Tab14 = CreateTab("C√†i ƒë·∫∑t")

-- M·ªü Tab 1 m·∫∑c ƒë·ªãnh
Tab1.Visible = true
Btn1.BackgroundColor3 = Theme.Yellow
Btn1.TextColor3 = Color3.new(0,0,0)
CurrentPage = Tab1

-- /////////////////////////////////////////////////////////////
-- /// LOGIC TAB 1: TR·∫†NG TH√ÅI CAO C·∫§P (MANUAL) ///
-- /////////////////////////////////////////////////////////////

-- H√†m t·∫°o d√≤ng Text Status
local function CreateStatusLine(Page, Title)
    local F = Instance.new("Frame"); F.Parent = Page; F.BackgroundTransparency = 1; F.Size = UDim2.new(1, -10, 0, 20)
    local T = Instance.new("TextLabel"); T.Parent = F; T.BackgroundTransparency = 1; T.Size = UDim2.new(0.5, 0, 1, 0); T.Font = Enum.Font.GothamBold; T.Text = Title; T.TextColor3 = Color3.fromRGB(200,200,200); T.TextSize = 13; T.TextXAlignment = Enum.TextXAlignment.Left
    local V = Instance.new("TextLabel"); V.Parent = F; V.BackgroundTransparency = 1; V.Position = UDim2.new(0.5, 0, 0, 0); V.Size = UDim2.new(0.5, 0, 1, 0); V.Font = Enum.Font.GothamBold; V.Text = "..."; V.TextColor3 = Theme.Yellow; V.TextSize = 13; V.TextXAlignment = Enum.TextXAlignment.Right
    return V
end

local function CreateHeader(Page, Text)
    local L = Instance.new("TextLabel"); L.Parent = Page; L.BackgroundTransparency = 1; L.Size = UDim2.new(1, 0, 0, 25); L.Font = Enum.Font.FredokaOne; L.Text = "--- " .. Text .. " ---"; L.TextColor3 = Theme.Text; L.TextSize = 16
end

-- X√¢y d·ª±ng giao di·ªán Tab 1
CreateHeader(Tab1, "NH√ÇN V·∫¨T")
local S_Name = CreateStatusLine(Tab1, "T√™n:")
local S_Level = CreateStatusLine(Tab1, "C·∫•p ƒë·ªô:")
local S_Beli = CreateStatusLine(Tab1, "Beli:")
local S_Frag = CreateStatusLine(Tab1, "Fragment:")
local S_Race = CreateStatusLine(Tab1, "T·ªôc:")
local S_Fruit = CreateStatusLine(Tab1, "Tr√°i:")

local Spacer = Instance.new("Frame"); Spacer.Parent = Tab1; Spacer.Size = UDim2.new(1,0,0,10); Spacer.BackgroundTransparency=1

CreateHeader(Tab1, "SERVER")
local S_Moon = CreateStatusLine(Tab1, "Full Moon:")
local S_Mirage = CreateStatusLine(Tab1, "Mirage Island:")
local S_Kitsune = CreateStatusLine(Tab1, "Kitsune Island:")
local S_Frozen = CreateStatusLine(Tab1, "Frozen Dim:")
local S_DimKill = CreateStatusLine(Tab1, "Dough King:")
local S_Indra = CreateStatusLine(Tab1, "Rip_Indra:")
local S_Elite = CreateStatusLine(Tab1, "Elite Hunter:")
local S_Sword = CreateStatusLine(Tab1, "Legendary Sword:")

-- LOGIC C·∫¨P NH·∫¨T (1 GI√ÇY / L·∫¶N)
task.spawn(function()
    while task.wait(1) do
        pcall(function()
            local Plr = Players.LocalPlayer
            -- 1. Nh√¢n v·∫≠t
            S_Name.Text = Plr.DisplayName
            if Plr:FindFirstChild("Data") then
                S_Level.Text = tostring(Plr.Data.Level.Value)
                S_Frag.Text = tostring(Plr.Data.Fragments.Value)
                S_Race.Text = tostring(Plr.Data.Race.Value)
                S_Fruit.Text = tostring(Plr.Data.DevilFruit.Value)
            end
            if Plr.leaderstats and Plr.leaderstats.Beli then
                S_Beli.Text = "$" .. Plr.leaderstats.Beli.Value
            end

            -- 2. Server - Full Moon
            local Phase = Lighting:GetMoonPhase()
            if Phase == Enum.MoonPhase.Full then S_Moon.Text = "‚úÖ ƒêANG C√ì (100%)"; S_Moon.TextColor3 = Theme.Green
            elseif Phase == Enum.MoonPhase.WaxingGibbous then S_Moon.Text = "‚è≥ C√≤n 1 ng√†y"; S_Moon.TextColor3 = Color3.new(1, 0.5, 0)
            elseif Phase == Enum.MoonPhase.FirstQuarter then S_Moon.Text = "‚è≥ C√≤n 2 ng√†y"; S_Moon.TextColor3 = Color3.new(1, 0.5, 0)
            elseif Phase == Enum.MoonPhase.WaxingCrescent then S_Moon.Text = "‚è≥ C√≤n 3 ng√†y"; S_Moon.TextColor3 = Color3.new(1, 0.5, 0)
            else S_Moon.Text = "‚ùå ƒê√£ qua"; S_Moon.TextColor3 = Theme.Red end

            -- 3. ƒê·∫£o & Boss
            if workspace._WorldOrigin.Locations:FindFirstChild("Mirage Island") then S_Mirage.Text = "‚úÖ ƒê√É C√ì"; S_Mirage.TextColor3 = Theme.Green else S_Mirage.Text = "‚ùå Ch∆∞a c√≥"; S_Mirage.TextColor3 = Theme.Red end
            if workspace.Map:FindFirstChild("Kitsune Island") then S_Kitsune.Text = "‚úÖ ƒê√É C√ì"; S_Kitsune.TextColor3 = Theme.Green else S_Kitsune.Text = "‚ùå Ch∆∞a c√≥"; S_Kitsune.TextColor3 = Theme.Red end
            if workspace.Map:FindFirstChild("Frozen Dimension") then S_Frozen.Text = "‚úÖ C·ªïng M·ªü"; S_Frozen.TextColor3 = Theme.Green else S_Frozen.Text = "‚ùå ƒê√≥ng"; S_Frozen.TextColor3 = Theme.Red end
            
            -- Dough King Count
            local FoundDough = false
            if workspace.Map:FindFirstChild("Cake Loaf") then
                local CF = workspace.Map["Cake Loaf"]
                if CF:FindFirstChild("Frames") and CF.Frames:FindFirstChild("Counter") then
                    local txt = CF.Frames.Counter.TextLabel.Text
                    local num = tonumber(string.match(txt, "%d+"))
                    if num then S_DimKill.Text = num .. " / 500"; S_DimKill.TextColor3 = Theme.Yellow; FoundDough = true end
                end
            end
            if not FoundDough then S_DimKill.Text = "N/A"; S_DimKill.TextColor3 = Theme.Red end

            -- Bosses
            if workspace.Enemies:FindFirstChild("rip_indra True Form") then S_Indra.Text = "‚öîÔ∏è ƒêANG ƒê√ÅNH"; S_Indra.TextColor3 = Theme.Green else S_Indra.Text = "‚ùå Ch∆∞a c√≥"; S_Indra.TextColor3 = Theme.Red end
            
            local EliteText = "‚ùå Ch∆∞a c√≥"
            local EliteColor = Theme.Red
            if workspace.Enemies then
                for _, v in pairs(workspace.Enemies:GetChildren()) do
                    if v.Name == "Deandre" or v.Name == "Diablo" or v.Name == "Urban" then
                        EliteText = "üéØ " .. v.Name; EliteColor = Theme.Green; break
                    end
                end
            end
            S_Elite.Text = EliteText; S_Elite.TextColor3 = EliteColor
            
             if workspace:FindFirstChild("Legendary Sword Dealer") then S_Sword.Text = "‚úÖ ƒêang b√°n"; S_Sword.TextColor3 = Theme.Green else S_Sword.Text = "‚ùå V·∫Øng m·∫∑t"; S_Sword.TextColor3 = Theme.Red end

        end)
    end
end)

-- /////////////////////////////////////////////////////////////
-- /// CH·ª®C NƒÇNG K√âO TH·∫¢ GUI (DRAG) ///
-- /////////////////////////////////////////////////////////////
local function MakeDraggable(obj)
    local dragging, dragInput, dragStart, startPos
    obj.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = obj.Position
            input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then dragging = false end end)
        end
    end)
    obj.InputChanged:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then dragInput = input end end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end
MakeDraggable(MainFrame)
MakeDraggable(OpenBtn)

print("Banana Cat Hub Native Version Loaded!")
