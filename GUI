-- /// 1. KH·ªûI T·∫†O D·ªäCH V·ª§ ///
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

-- /// 2. C·∫§U H√åNH GIAO DI·ªÜN ///
local Theme = {
    Background = Color3.fromRGB(255, 235, 59), -- V√†ng chu·ªëi
    DarkerYellow = Color3.fromRGB(253, 216, 53),
    Text = Color3.fromRGB(50, 50, 50),
    Button = Color3.fromRGB(255, 255, 255),
    Red = Color3.fromRGB(255, 85, 85), -- M√†u ƒë·ªè cho n√∫t X
    Orange = Color3.fromRGB(255, 170, 0), -- M√†u cam cho n√∫t Minimize
    BananaCatImage = "http://www.roblox.com/asset/?id=13693437997"
}

-- X√≥a GUI c≈© ƒë·ªÉ kh√¥ng b·ªã tr√πng
if CoreGui:FindFirstChild("BananaCatHub") then
    CoreGui.BananaCatHub:Destroy()
end

-- /// 3. T·∫†O SCREEN GUI ///
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BananaCatHub"
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- /// 4. T·∫†O N√öT M·ªû (TOGGLE ICON) - M·∫∂C ƒê·ªäNH ·∫®N ///
local OpenButton = Instance.new("ImageButton")
OpenButton.Name = "OpenButton"
OpenButton.Parent = ScreenGui
OpenButton.BackgroundColor3 = Theme.Background
OpenButton.Position = UDim2.new(0.1, 0, 0.1, 0) -- V·ªã tr√≠ m·∫∑c ƒë·ªãnh
OpenButton.Size = UDim2.new(0, 60, 0, 60)
OpenButton.Image = Theme.BananaCatImage
OpenButton.Visible = false -- Ban ƒë·∫ßu ·∫©n ƒëi, ch·ªâ hi·ªán khi thu nh·ªè Hub
OpenButton.Active = true

-- Bo tr√≤n n√∫t m·ªü th√†nh h√¨nh tr√≤n
local OpenCorner = Instance.new("UICorner")
OpenCorner.CornerRadius = UDim.new(1, 0) -- Tr√≤n 100%
OpenCorner.Parent = OpenButton

local OpenStroke = Instance.new("UIStroke")
OpenStroke.Color = Color3.fromRGB(255, 255, 255)
OpenStroke.Thickness = 3
OpenStroke.Parent = OpenButton

-- /// 5. T·∫†O KHUNG CH√çNH (MAIN FRAME) ///
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Theme.Background
MainFrame.Position = UDim2.new(0.5, -225, 0.5, -150)
MainFrame.Size = UDim2.new(0, 450, 0, 300)
MainFrame.ClipsDescendants = true

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = MainFrame

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(255, 255, 255)
UIStroke.Thickness = 3
UIStroke.Parent = MainFrame

-- Logo v√† Ti√™u ƒë·ªÅ
local Logo = Instance.new("ImageLabel")
Logo.Parent = MainFrame
Logo.BackgroundTransparency = 1
Logo.Position = UDim2.new(0, 10, 0, 10)
Logo.Size = UDim2.new(0, 60, 0, 60)
Logo.Image = Theme.BananaCatImage

local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 80, 0, 10)
Title.Size = UDim2.new(0, 200, 0, 60)
Title.Font = Enum.Font.FredokaOne
Title.Text = "Banana Cat Hub üçå"
Title.TextColor3 = Theme.Text
Title.TextSize = 28
Title.TextXAlignment = Enum.TextXAlignment.Left

-- /// 6. C√ÅC N√öT ƒêI·ªÄU KHI·ªÇN (X V√Ä -) ///

-- N√∫t X (ƒê√≥ng/X√≥a Script)
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "Close"
CloseButton.Parent = MainFrame
CloseButton.BackgroundColor3 = Theme.Red
CloseButton.Position = UDim2.new(1, -40, 0, 10)
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Font = Enum.Font.FredokaOne
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.new(1,1,1)
CloseButton.TextSize = 18
local CloseCorner = Instance.new("UICorner"); CloseCorner.CornerRadius = UDim.new(0, 8); CloseCorner.Parent = CloseButton

-- N√∫t - (Thu nh·ªè/Minimize)
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "Minimize"
MinimizeButton.Parent = MainFrame
MinimizeButton.BackgroundColor3 = Theme.Orange
MinimizeButton.Position = UDim2.new(1, -75, 0, 10) -- ƒê·∫∑t b√™n tr√°i n√∫t X
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Font = Enum.Font.FredokaOne
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.new(1,1,1)
MinimizeButton.TextSize = 24
local MinCorner = Instance.new("UICorner"); MinCorner.CornerRadius = UDim.new(0, 8); MinCorner.Parent = MinimizeButton

-- /// 7. LOGIC B·∫¨T T·∫ÆT (TOGGLE LOGIC) ///

-- Khi b·∫•m n√∫t X: X√≥a GUI
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Khi b·∫•m n√∫t -: ·∫®n Menu, Hi·ªán Icon
MinimizeButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    OpenButton.Visible = true
    
    -- Hi·ªáu ·ª©ng n·∫£y cho Icon
    OpenButton.Size = UDim2.new(0, 0, 0, 0)
    TweenService:Create(OpenButton, TweenInfo.new(0.3, Enum.EasingStyle.Back), {Size = UDim2.new(0, 60, 0, 60)}):Play()
end)

-- Khi b·∫•m Icon M·ªü: ·∫®n Icon, Hi·ªán Menu
OpenButton.MouseButton1Click:Connect(function()
    OpenButton.Visible = false
    MainFrame.Visible = true
    
    -- Hi·ªáu ·ª©ng hi·ªán Menu
    MainFrame.Size = UDim2.new(0, 450, 0, 0)
    TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back), {Size = UDim2.new(0, 450, 0, 300)}):Play()
end)

-- /// 8. CH·ª®C NƒÇNG K√âO TH·∫¢ (DRAG SCRIPT) ///
-- H√†m x·ª≠ l√Ω k√©o th·∫£ chung cho m·ªçi v·∫≠t th·ªÉ
local function MakeDraggable(object)
    local dragging, dragInput, dragStart, startPos
    
    object.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = object.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    object.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            -- S·ª≠ d·ª•ng Tween ƒë·ªÉ k√©o m∆∞·ª£t m√† h∆°n
            TweenService:Create(object, TweenInfo.new(0.05), {Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)}):Play()
        end
    end)
end

-- √Åp d·ª•ng k√©o th·∫£ cho c·∫£ Menu v√† Icon
MakeDraggable(MainFrame)
MakeDraggable(OpenButton)

-- /// 9. KHU V·ª∞C CH·ª®A CH·ª®C NƒÇNG (CONTAINER) ///
local ButtonContainer = Instance.new("ScrollingFrame")
ButtonContainer.Parent = MainFrame
ButtonContainer.Active = true
ButtonContainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ButtonContainer.BackgroundTransparency = 0.5
ButtonContainer.BorderSizePixel = 0
ButtonContainer.Position = UDim2.new(0, 20, 0, 80)
ButtonContainer.Size = UDim2.new(0, 410, 0, 200)
ButtonContainer.ScrollBarThickness = 4

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = ButtonContainer
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 10)

local UIPadding = Instance.new("UIPadding")
UIPadding.Parent = ButtonContainer
UIPadding.PaddingTop = UDim.new(0, 10)
UIPadding.PaddingLeft = UDim.new(0, 10)

-- H√†m t·∫°o n√∫t (nh∆∞ c≈©)
local function CreateButton(text, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = ButtonContainer
    Button.BackgroundColor3 = Theme.Button
    Button.Size = UDim2.new(0, 380, 0, 40)
    Button.Font = Enum.Font.GothamBold
    Button.Text = text
    Button.TextColor3 = Theme.Text
    Button.TextSize = 16
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = Button

    Button.MouseButton1Click:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.1), {Size = UDim2.new(0, 360, 0, 35)}):Play()
        task.wait(0.1)
        TweenService:Create(Button, TweenInfo.new(0.1), {Size = UDim2.new(0, 380, 0, 40)}):Play()
        callback()
    end)
end

-- /// V√ç D·ª§ C√ÅC CH·ª®C NƒÇNG ///
CreateButton("Auto Farm (Beta)", function()
    print("Farm func")
end)

CreateButton("Teleport Safe Zone", function()
    print("TP Safe")
end)
